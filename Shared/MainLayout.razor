@inherits LayoutComponentBase
@layout ParentLayout

<MudAppBar>
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
    Bislerium Cafe
    <MudSpacer/>
    @if(_globalState.CurrentUser != null)
    {
        @_globalState.CurrentUser.Role
    }
</MudAppBar>
<MudDrawer @bind-Open="@_drawerOpen">
    <NavMenu />
</MudDrawer>
<MudMainContent>
    @Body
</MudMainContent>

@code {
    [CascadingParameter]
    private GlobalState _globalState { get; set; }
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}
